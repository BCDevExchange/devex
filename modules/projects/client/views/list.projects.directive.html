<div class="row py-5">
  <div class="col-sm-9">
    <h3>
      <i class="fas fa-chart-pie"></i>&nbsp;
      Projects
    </h3>
  </div>
  <div class="col-sm-3 d-none d-sm-block">
    <button data-automation-id="button-list-a-project" ng-if="vm.userCanAdd" class="btn btn-text-only float-right"
      ui-sref="projectadmin.create({programId:vm.programId, programTitle:vm.programTitle, context:vm.context})" title="New">
      <i class="fas fa-lg fa-plus-circle"></i> List a Project
    </button>
  </div>
</div>

<!--<div ng-class="'col-md-'+(12 / vm.columnCount)" ng-repeat="column in vm.projects | columnRanges:vm.columnCount">-->

<div class="card my-3" ng-repeat="project in vm.projects | slice:column.start:column.end">

  <div class="card-body" ng-class="{'unpublished': !project.isPublished}" ui-sref="projects.view({ projectId: project.code, programId: project.program.code })">
    <!-- Labels -->
    <div ng-if="vm.isAdmin || project.userIs.admin || project.userIs.member || project.userIs.request" class="text-right">
      <label ng-if="!project.isPublished" class="label label-unpublished"><i class="fas fa-exclamation-triangle"></i>
      Unpublished</label>
      <label ng-if="project.userIs.member" class="label label-member"><i class="fas fa-user"></i> Member</label> 
      <label ng-if="vm.isAdmin || project.userIs.admin" class="label label-admin"><i class="fas fa-user-shield"></i> Admin</label>
    </div>
    
    <div class="label-list text-truncate">
      <span class="label label-project-tags" ng-repeat="code in project.tags">{{code}}</span>
    </div>
    <h5 class="card-title mt-2 text-truncate" ng-bind="project.name"></h5>
    <p class="card-text" ng-bind="project.short"></p>
    <p ng-if="!vm.program && project.program" class="text-muted mb-0 text-truncate"><i class="fas fa-university"></i>
      {{project.program.title}}</p>
  </div>
</div>