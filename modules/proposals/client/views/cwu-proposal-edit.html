<form id="proposalform" name="ppp.proposalForm" ng-submit="ppp.submit()"
  novalidate warn-on-exit>

  <div class="modal-header">
    <h5 class="modal-title" ng-if="!ppp.isclosed && ppp.proposal.status !== 'Submitted'">Submit a proposal</h5>
    <h5 class="modal-title" ng-if="ppp.proposal.status === 'Submitted'">My proposal</h5>
    <button type="button" class="close" data-ng-click="ppp.close()" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

<!-- // Banner if Proposal is in Draft // -->
<div class="banner banner-important" ng-if="ppp.proposal.status === 'Draft'">
  <div class="container">
    <div class="row">
      <div class="col">
        <p><span class="strong"><i class="fas fa-file"></i> This Proposal is in DRAFT.</span>&nbsp;&nbsp; Submit before
          <strong><span ng-bind="ppp.formatDate(ppp.opportunity.deadline, true)"></span></strong>
          to be considered for this opportunity!</p>
        <p data-automation-id="mustAgreeTermsWarning" class="alert alert-danger" ng-if="!ppp.proposal.isAcceptedTerms">Before you can submit your Proposal, you
          must agree to
          the Terms.</p>
      </div>
    </div>

    <!--If proposal has been submitted and closing deadline has passed-->
    <div class="alert alert-success small mb-3" ng-if="ppp.isclosed && ppp.proposal.status === 'Submitted'"><i class="fa-lg far fa-check-circle"></i> This proposal was submitted. 
    </div>


    <div class="mb-5" ng-include="'/modules/proposals/client/views/cwu-proposal-edit-attachments.html'"></div>
    <hr>
    <div ng-include="'/modules/proposals/client/views/cwu-proposal-edit-terms.html'"></div>
  </div>
  
  <div class="modal-footer" ng-if="ppp.proposal.status !== 'Submitted'">
    <button type="submit" data-automation-id="button-cwu-proposal-submit"  class="btn btn-block btn-primary" ng-if="ppp.proposal.status !== 'Submitted'" ng-disabled="!ppp.proposal.isAcceptedTerms || !ppp.hasAttachments">Submit proposal</button>
  </div>
</form>