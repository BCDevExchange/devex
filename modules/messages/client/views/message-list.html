<h3 class="settings-panel-title">Messages</h3>

  <div class="message-list" ng-repeat="message in vm.messages | orderBy : 'datePosted' : true">

    <div class="message-list-item" ng-if="!message.actionTaken">
      <div class="message-list-item-date pull-right">{{message.datePosted | date : 'MMMM d'}}</div>
      <div class="message-list-item-body">
        <p ng-bind-html="message.messageBody"></p>
        <div class="message-actions">
            <button class="btn" ng-repeat="action in message.actions | orderBy : 'isDefault' : false" ng-class="{'btn-default': action.isDefault,'btn-primary': !action.isDefault}" ng-click="vm.takeAction(message._id, action)">{{vm.trust(action.linkTitle)}}</button>
        </div>
      </div>
    </div>

    <div class="message-confirmation" ng-if="message.actionTaken">
        <div class="message-result" ng-bind-html="vm.resultmsg"></div>
    </div>

  </div>

  <div class="list-empty-message" ng-if="!vm.messages.length"><emoji>â˜•</emoji> You're all caught up!</div>







































